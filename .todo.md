# Todo List: Fix workspace name display

## Current Issue
When displaying workspaces, the name shows "stevengonsalvez" (parent directory) instead of "claude-in-a-box" (repository name). This happens because the code takes the last component of the workspace_path.

## Root Cause Analysis
- Line 117 in session_loader.rs uses `worktree_info.source_repository.to_string_lossy().to_string()` as workspace_path
- Lines 139-144 use home directory for orphaned sessions
- Lines 81-85 extract workspace name using `Path::file_name()` which gives the last path component
- The issue occurs when workspace_path points to parent directory instead of actual repository

## Tasks

### 1. Write failing tests for workspace name extraction
- [completed] Test that workspace name shows repository name for worktree sessions
- [completed] Test that workspace name shows repository name for orphaned sessions with inferrable repo
- [completed] Test that workspace name falls back gracefully for truly orphaned sessions

### 2. Fix workspace name extraction for worktree sessions
- [completed] Verify source_repository path points to actual repository directory
- [completed] Ensure workspace_path uses repository directory, not parent

### 3. Fix workspace name extraction for orphaned sessions
- [completed] Try to infer repository name from tmux session name
- [completed] Extract repository name from session name pattern if possible
- [completed] Fall back to current behavior only if no repository can be inferred

### 4. Improve workspace name extraction logic
- [completed] Create helper function to extract repository name from path
- [completed] Handle edge cases like symbolic links and nested repositories
- [completed] Ensure consistent naming across different session types

### 5. Validate the fix
- [completed] Run existing tests to ensure no regressions
- [ ] Test with actual tmux sessions in the repository
- [ ] Verify workspace names display correctly in UI

## Implementation Strategy
Follow TDD approach:
1. Write failing tests first
2. Implement minimal fix to make tests pass
3. Refactor for clarity and maintainability
